pkgname=tomlplusplus
version=3.4.0
revision=1
hostmakedepends="cmake meson ninja pkg-config"
short_desc="Header-only TOML config file parser and serializer for C++17"
maintainer="Makrennel <makrommel@protonmail.ch>"
license="MIT"
homepage="https://github.com/marzer/${pkgname}"
changelog="https://github.com/marzer/${pkgname}/blob/master/CHANGELOG.md"
distfiles="https://github.com/marzer/${pkgname}/archive/refs/tags/v${version}.tar.gz"
checksum=8517f65938a4faae9ccf8ebb36631a38c1cadfb5efa85d9a72e15b9e97d25155

do_build() {
	cd ${wrksrc}
	meson setup --prefix=/usr build/
	ninja -C build
}

do_install() {
	cd ${wrksrc}
	meson install --destdir=$DESTDIR -C build
	vlicense LICENSE
	vmkdir usr/share/doc/${pkgname}
	vinstall README.md 644 usr/share/doc/${pkgname}
}
